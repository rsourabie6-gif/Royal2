<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Royal Transport - Réservation et Achat de Billets</title>
   
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="icon" type="image/x-icon" href="https://img.icons8.com/color/96/000000/bus.png">
   <style>
     /* Reset et styles de base */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

:root {
    --primary-color: #8B0000; /* Rouge foncé */
    --secondary-color: #808080; /* Gris */
    --light-gray: #f5f5f5;
    --dark-gray: rgb(146, 141, 141);
    --medium-gray: hsl(0, 85%, 28%);
    --white: #ffffff;
    --black: #000000;
    --success-color: #aa0a17;
    --warning-color: #ffc107;
    --shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    --border-radius: 8px;
}

body {
    font-family: 'Montserrat', sans-serif;
    line-height: 1.6;
    color: var(--dark-gray);
    background-color: var(--white);
}

.container {
    width: 100%;
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
}

section {
    padding: 80px 0;
}

.hidden {
    display: none !important;
}

/* Typographie */
h1, h2, h3, h4, h5, h6 {
    font-weight: 700;
    line-height: 1.2;
    margin-bottom: 15px;
}

h1 {
    font-size: 2.5rem;
}

h2 {
    font-size: 2rem;
}

h3 {
    font-size: 1.5rem;
}

p {
    margin-bottom: 15px;
}

a {
    text-decoration: none;
    color: inherit;
}

/* Boutons */
.btn {
    display: inline-block;
    padding: 12px 30px;
    border-radius: var(--border-radius);
    font-weight: 600;
    text-align: center;
    cursor: pointer;
    transition: all 0.3s ease;
    border: none;
    font-size: 1rem;
}

.btn-primary {
    background-color: var(--primary-color);
    color: var(--white);
}

.btn-primary:hover {
    background-color: #706a6a;
    transform: translateY(-3px);
    box-shadow: var(--shadow);
}

.btn-secondary {
    background-color: var(--secondary-color);
    color: var(--white);
}

.btn-secondary:hover {
    background-color: rgb(148, 10, 10);
    transform: translateY(-3px);
    box-shadow: var(--shadow);
}

/* En-tête */
header {
    background-color: var(--white);
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    position: sticky;
    top: 0;
    z-index: 1000;
}

header .container {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px 20px;
}

.logo {
    display: flex;
    align-items: center;
    gap: 15px;
}

.logo-icon {
    background-color: var(--primary-color);
    color: var(--white);
    width: 50px;
    height: 50px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
}

.logo-text h1 {
    font-size: 1.5rem;
    margin-bottom: 0;
}

.logo-text p {
    font-size: 0.8rem;
    color: var(--medium-gray);
    margin-bottom: 0;
}

nav ul {
    display: flex;
    list-style: none;
    gap: 30px;
}

nav a {
    font-weight: 500;
    color: var(--dark-gray);
    position: relative;
    padding: 5px 0;
}

nav a:hover {
    color: var(--primary-color);
}

nav a::after {
    content: '';
    position: absolute;
    width: 0;
    height: 2px;
    background-color: var(--primary-color);
    bottom: 0;
    left: 0;
    transition: width 0.3s ease;
}

nav a:hover::after {
    width: 100%;
}

.menu-toggle {
    display: none;
    background: none;
    border: none;
    font-size: 1.5rem;
    color: var(--dark-gray);
    cursor: pointer;
}

/* Section Hero */
.hero {
    background: linear-gradient(to right, var(--white) 50%, var(--light-gray) 50%);
}

.hero .container {
    display: flex;
    align-items: center;
    gap: 40px;
}

.hero-content {
    flex: 1;
}

.hero-content h2 {
    font-size: 2.2rem;
    margin-bottom: 20px;
}

.highlight {
    color: var(--primary-color);
}

.hero-content p {
    font-size: 1.1rem;
    margin-bottom: 30px;
    color: var(--medium-gray);
}

.hero-buttons {
    display: flex;
    gap: 20px;
}

.hero-image {
    flex: 1;
    border-radius: var(--border-radius);
    overflow: hidden;
    box-shadow: var(--shadow);
}

.hero-image img {
    width: 100%;
    height: auto;
    display: block;
}

/* Sections générales */
.section-title {
    text-align: center;
    margin-bottom: 10px;
    color: var(--dark-gray);
}

.section-subtitle {
    text-align: center;
    color: var(--medium-gray);
    margin-bottom: 50px;
    font-size: 1.1rem;
}

/* Section Trajets */
.filters {
    display: flex;
    justify-content: center;
    gap: 15px;
    margin-bottom: 40px;
    flex-wrap: wrap;
}

.filter-btn {
    padding: 10px 25px;
    background-color: var(--white);
    border: 2px solid var(--secondary-color);
    border-radius: var(--border-radius);
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
}

.filter-btn:hover, .filter-btn.active {
    background-color: var(--primary-color);
    color: var(--white);
    border-color: var(--primary-color);
}

.trajets-container {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
    gap: 30px;
}

.trajet-card {
    background-color: var(--white);
    border-radius: var(--border-radius);
    overflow: hidden;
    box-shadow: var(--shadow);
    transition: transform 0.3s ease;
}

.trajet-card:hover {
    transform: translateY(-10px);
}

.trajet-header {
    background-color: var(--primary-color);
    color: var(--white);
    padding: 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.trajet-route {
    font-size: 1.2rem;
    font-weight: 600;
}

.trajet-type {
    background-color: rgba(255, 255, 255, 0.2);
    padding: 5px 15px;
    border-radius: 20px;
    font-size: 0.8rem;
}

.trajet-body {
    padding: 20px;
}

.trajet-info {
    display: flex;
    justify-content: space-between;
    margin-bottom: 20px;
}

.trajet-detail {
    text-align: center;
}

.trajet-detail i {
    font-size: 1.5rem;
    color: var(--primary-color);
    margin-bottom: 10px;
}

.trajet-detail p {
    margin-bottom: 5px;
    font-size: 0.9rem;
    color: var(--medium-gray);
}

.trajet-detail span {
    font-weight: 600;
    color: var(--dark-gray);
}

.trajet-price {
    text-align: center;
    border-top: 1px solid var(--light-gray);
    padding-top: 20px;
}

.price {
    font-size: 2rem;
    font-weight: 700;
    color: var(--primary-color);
}

.trajet-actions {
    display: flex;
    gap: 10px;
    margin-top: 15px;
}

/* Formulaires */
.reservation-container, .achat-container, .contact-container {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 50px;
    margin-top: 30px;
}

.form-container {
    background-color: var(--white);
    padding: 30px;
    border-radius: var(--border-radius);
    box-shadow: var(--shadow);
}

.form-group {
    margin-bottom: 20px;
}

.form-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
}

label {
    display: block;
    margin-bottom: 8px;
    font-weight: 600;
    color: var(--dark-gray);
}

input, select, textarea {
    width: 100%;
    padding: 12px 15px;
    border: 1px solid #ddd;
    border-radius: var(--border-radius);
    font-family: 'Montserrat', sans-serif;
    font-size: 1rem;
    transition: border-color 0.3s ease;
}

input:focus, select:focus, textarea:focus {
    outline: none;
    border-color: var(--primary-color);
}

textarea {
    resize: vertical;
}

.form-actions {
    margin-top: 30px;
    display: flex;
    gap: 15px;
}

/* Info containers */
.info-container {
    background-color: var(--light-gray);
    padding: 30px;
    border-radius: var(--border-radius);
}

.steps-list, .benefits-list {
    list-style: none;
    margin-bottom: 30px;
}

.steps-list li, .benefits-list li {
    display: flex;
    gap: 15px;
    margin-bottom: 25px;
}

.step-number {
    background-color: var(--primary-color);
    color: var(--white);
    width: 30px;
    height: 30px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 600;
    flex-shrink: 0;
}

.step-content h4, .benefit-content h4 {
    font-size: 1.1rem;
    margin-bottom: 5px;
}

.step-content p, .benefit-content p {
    font-size: 0.9rem;
    color: var(--medium-gray);
    margin-bottom: 0;
}

.benefits-list li i {
    color: var(--success-color);
    font-size: 1.5rem;
    flex-shrink: 0;
}

.whatsapp-info {
    background-color: var(--primary-color);
    color: var(--white);
    padding: 20px;
    border-radius: var(--border-radius);
    text-align: center;
    margin-top: 30px;
}

.whatsapp-info i {
    font-size: 2.5rem;
    margin-bottom: 10px;
}

/* Options de paiement */
.paiement-options {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 15px;
    margin: 20px 0;
}

.paiement-option {
    border: 2px solid #ddd;
    border-radius: var(--border-radius);
    padding: 15px;
    text-align: center;
    cursor: pointer;
    transition: all 0.3s ease;
}

.paiement-option:hover, .paiement-option.selected {
    border-color: var(--primary-color);
    background-color: rgba(139, 0, 0, 0.05);
}

.paiement-logo {
    font-size: 2rem;
    color: var(--primary-color);
    margin-bottom: 10px;
}

.paiement-details {
    background-color: var(--light-gray);
    padding: 20px;
    border-radius: var(--border-radius);
    margin-top: 20px;
}

.paiement-summary {
    background-color: var(--white);
    padding: 20px;
    border-radius: var(--border-radius);
    margin: 20px 0;
}

.summary-details {
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.summary-item {
    display: flex;
    justify-content: space-between;
    padding-bottom: 10px;
    border-bottom: 1px solid #eee;
}

.summary-item.total {
    font-weight: 700;
    font-size: 1.2rem;
    color: var(--primary-color);
    border-bottom: none;
    padding-top: 10px;
}

/* Prévisualisation de ticket */
.ticket-preview {
    margin-top: 30px;
}

.ticket-sample {
    background-color: var(--white);
    border-radius: var(--border-radius);
    overflow: hidden;
    box-shadow: var(--shadow);
    margin-top: 15px;
}

.ticket-header {
    background-color: var(--primary-color);
    color: var(--white);
    padding: 15px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.ticket-body {
    padding: 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.ticket-info p {
    margin-bottom: 8px;
    font-size: 0.9rem;
}

.ticket-qr {
    text-align: center;
}

.qr-placeholder {
    width: 100px;
    height: 100px;
    background-color: var(--light-gray);
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 10px;
    border-radius: var(--border-radius);
}

.qr-placeholder i {
    font-size: 2.5rem;
    color: var(--medium-gray);
}

/* Section Contact */
.contact-item {
    display: flex;
    align-items: center;
    gap: 15px;
    margin-bottom: 25px;
}

.contact-item i {
    background-color: var(--primary-color);
    color: var(--white);
    width: 50px;
    height: 50px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
}

.social-links {
    display: flex;
    gap: 15px;
    margin-top: 30px;
}

.social-link {
    background-color: var(--secondary-color);
    color: var(--white);
    width: 40px;
    height: 40px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
}

.social-link:hover {
    background-color: var(--primary-color);
    transform: translateY(-5px);
}

/* Pied de page */
footer {
    background-color: var(--dark-gray);
    color: var(--white);
    padding: 60px 0 20px;
}

.footer-content {
    display: flex;
    justify-content: space-between;
    margin-bottom: 40px;
    flex-wrap: wrap;
    gap: 40px;
}

.footer-logo {
    display: flex;
    align-items: center;
    gap: 15px;
}

.footer-logo .logo-icon {
    background-color: var(--white);
    color: var(--primary-color);
}

.footer-links {
    display: flex;
    gap: 60px;
    flex-wrap: wrap;
}

.footer-column h4 {
    font-size: 1.2rem;
    margin-bottom: 20px;
    color: var(--white);
}

.footer-column ul {
    list-style: none;
}

.footer-column li {
    margin-bottom: 20px;
}

.footer-column a {
    color: rgb(148, 9, 9);
    transition: color 0.3s ease;
}

.footer-column a:hover {
    color: var(--white);
}

.footer-bottom {
    text-align: center;
    padding-top: 20px;
    border-top: 1px solid #444;
    color: rgb(245, 243, 243);
    font-size: 0.9rem;
}

/* Bouton WhatsApp flottant */
.whatsapp-float {
    position: fixed;
    bottom: 30px;
    right: 30px;
    z-index: 100;
}

.whatsapp-btn {
    display: flex;
    align-items: center;
    gap: 10px;
    background-color: #770909;
    color: var(--white);
    padding: 15px 20px;
    border-radius: 50px;
    font-weight: 600;
    box-shadow: 0 4px 15px rgba(244, 246, 247, 0.938);
    transition: all 0.3s ease;
}

.whatsapp-btn:hover {
    background-color: #8f8a8a;
    transform: translateY(-5px);
    box-shadow: 0 6px 20px #faf6f7f1;
}

.whatsapp-btn i {
    font-size: 1.5rem;
}

/* Modales */
.modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.7);
    z-index: 2000;
    overflow-y: auto;
    padding: 20px;
}

.modal-content {
    background-color: var(--white);
    margin: 5% auto;
    padding: 30px;
    border-radius: var(--border-radius);
    width: 90%;
    max-width: 800px;
    position: relative;
    max-height: 90vh;
    overflow-y: auto;
}

.close-modal {
    position: absolute;
    top: 20px;
    right: 25px;
    font-size: 1.8rem;
    color: var(--medium-gray);
    cursor: pointer;
    transition: color 0.3s ease;
    z-index: 10;
}

.close-modal:hover {
    color: var(--primary-color);
}

.modal-actions {
    display: flex;
    gap: 15px;
    margin-top: 30px;
}

/* Style spécifique pour les modales de formulaire */
.form-modal .modal-content {
    max-width: 900px;
    padding: 40px;
}

.form-modal .modal-header {
    margin-bottom: 30px;
    text-align: center;
}

.form-modal .modal-title {
    font-size: 1.8rem;
    color: var(--primary-color);
    margin-bottom: 10px;
}

.form-modal .modal-subtitle {
    color: var(--medium-gray);
    font-size: 1rem;
}

/* Responsive */
@media (max-width: 992px) {
    .hero .container, .reservation-container, .achat-container, .contact-container {
        grid-template-columns: 1fr;
    }
    
    .hero .container {
        flex-direction: column;
    }
    
    .hero-content h2 {
        font-size: 1.8rem;
    }
    
    .trajets-container {
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    }
    
    .footer-content {
        flex-direction: column;
    }
    
    .footer-links {
        gap: 50px;
    }
}

@media (max-width: 768px) {
    .form-row {
        grid-template-columns: 1fr;
    }
    
    .form-actions {
        flex-direction: column;
    }
    
    nav ul {
        display: none;
        position: absolute;
        top: 100%;
        left: 0;
        width: 100%;
        background-color: var(--white);
        flex-direction: column;
        padding: 20px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }
    
    nav ul.show {
        display: flex;
    }
    
    .menu-toggle {
        display: block;
    }
    
    .hero-buttons {
        flex-direction: column;
    }
    
    .paiement-options {
        grid-template-columns: 1fr;
    }
    
    .modal-actions {
        flex-direction: column;
    }
    
    .form-modal .modal-content {
        padding: 25px;
    }
    
    .modal-content {
        padding: 20px;
        margin: 10% auto;
    }
}

@media (max-width: 576px) {
    section {
        padding: 50px 0;
    }
    
    .trajets-container {
        grid-template-columns: 1fr;
    }
    
    .filters {
        flex-direction: column;
        align-items: center;
    }
    
    .whatsapp-btn span {
        display: none;
    }
    
    .whatsapp-btn {
        padding: 15px;
        border-radius: 50%;
    }
    
    .modal-content {
        padding: 15px;
        margin: 5% auto;
        width: 95%;
    }
    
    .form-modal .modal-content {
        padding: 20px;
    }
}  
   </style> 
</head>
<body>
    <!-- En-tête -->
    <header>
        <div class="container">
            <div class="logo">
                <div class="logo-icon">
                    <i class="fas fa-bus"></i>
                </div>
                <div class="logo-text">
                    <h1>Royal Transport</h1>
                    <p>Voyagez en toute sécurité</p>
                </div>
            </div>
            <nav>
                <ul>
                    <li><a href="#accueil">Accueil</a></li>
                    <li><a href="#trajets">Trajets & Tarifs</a></li>
                    <li><a href="#" class="open-modal-btn" data-modal="reservation-modal">Réservation</a></li>
                    <li><a href="#" class="open-modal-btn" data-modal="achat-modal">Achat de billet</a></li>
                    <li><a href="#contact">Contact</a></li>
                </ul>
            </nav>
            <button class="menu-toggle">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </header>

    <!-- Section principale -->
    <main>
        <!-- Section d'accueil -->
        <section id="accueil" class="hero">
            <div class="container">
                <div class="hero-content">
                    <h2>Voyagez confortablement avec <span class="highlight">Royal Transport</span></h2>
                    <p>Des trajets sécurisés et confortables à travers le pays. Réservez ou achetez votre billet en ligne facilement.</p>
                    <div class="hero-buttons">
                        <a href="#" class="btn btn-primary open-modal-btn" data-modal="reservation-modal">Réserver un billet</a>
                        <a href="#" class="btn btn-secondary open-modal-btn" data-modal="achat-modal">Acheter un billet</a>
                    </div>
                </div>
                <div class="hero-image">
                    <img src="https://images.unsplash.com/photo-1544620347-c4fd4a3d5957?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80" alt="Bus Royal Transport">
                </div>
            </div>
        </section>

        <!-- Section des trajets et tarifs -->
        <section id="trajets" class="trajets-section">
            <div class="container">
                <h2 class="section-title">Nos Trajets et Tarifs</h2>
                <p class="section-subtitle">Consultez nos destinations et les prix correspondants</p>
                
                <div class="filters">
                    <button class="filter-btn active" data-filter="tous">Tous les trajets</button>
                    <button class="filter-btn" data-filter="interieur">Intérieur du pays</button>
                    <button class="filter-btn" data-filter="international">International</button>
                </div>
                
                <div class="trajets-container">
                    <!-- Les trajets seront générés dynamiquement par JavaScript -->
                </div>
            </div>
        </section>

        <!-- Section contact -->
        <section id="contact" class="contact-section">
            <div class="container">
                <h2 class="section-title">Contactez-nous</h2>
                <p class="section-subtitle">Nous sommes à votre disposition pour toute information</p>
                
                <div class="contact-container">
                    <div class="contact-info">
                        <h3>Nos coordonnées</h3>
                        <div class="contact-item">
                            <i class="fas fa-phone"></i>
                            <div>
                                <h4>Téléphone</h4>
                                <p>+226 77 03 09 41</p>
                            </div>
                        </div>
                        <div class="contact-item">
                            <i class="fab fa-whatsapp"></i>
                            <div>
                                <h4>WhatsApp</h4>
                                <p>+226 77 03 09 41</p>
                            </div>
                        </div>
                        <div class="contact-item">
                            <i class="fas fa-envelope"></i>
                            <div>
                                <h4>Email</h4>
                                <p>contact@royaltransport.bf</p>
                            </div>
                        </div>
                        <div class="contact-item">
                            <i class="fas fa-map-marker-alt"></i>
                            <div>
                                <h4>Adresse</h4>
                                <p>Av. de la Nation, Ouagadougou, Burkina Faso</p>
                            </div>
                        </div>
                        
                        <div class="social-links">
                            <a href="#" class="social-link"><i class="fab fa-facebook"></i></a>
                            <a href="#" class="social-link"><i class="fab fa-twitter"></i></a>
                            <a href="#" class="social-link"><i class="fab fa-instagram"></i></a>
                        </div>
                    </div>
                    
                    <div class="contact-form">
                        <h3>Envoyez-nous un message</h3>
                        <form id="contact-form">
                            <div class="form-group">
                                <input type="text" placeholder="Votre nom" required>
                            </div>
                            <div class="form-group">
                                <input type="email" placeholder="Votre email" required>
                            </div>
                            <div class="form-group">
                                <input type="text" placeholder="Sujet" required>
                            </div>
                            <div class="form-group">
                                <textarea placeholder="Votre message" rows="5" required></textarea>
                            </div>
                            <button type="submit" class="btn btn-primary">Envoyer le message</button>
                        </form>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Pied de page -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">
                    <div class="logo-icon">
                        <i class="fas fa-bus"></i>
                    </div>
                    <div class="logo-text">
                        <h3>Royal Transport</h3>
                        <p>Voyagez en toute sécurité</p>
                    </div>
                </div>
                
                <div class="footer-links">
                    <div class="footer-column">
                        <h4>Services</h4>
                        <ul>
                            <li><a href="#trajets">Trajets & Tarifs</a></li>
                            <li><a href="#" class="open-modal-btn" data-modal="reservation-modal">Réservation</a></li>
                            <li><a href="#" class="open-modal-btn" data-modal="achat-modal">Achat de billet</a></li>
                            <li><a href="#contact">Contact</a></li>
                        </ul>
                    </div>
                    
                    <div class="footer-column">
                        <h4>Compagnie</h4>
                        <ul>
                            <li><a href="#">À propos</a></li>
                            <li><a href="#">Nos véhicules</a></li>
                            <li><a href="#">Carrières</a></li>
                            <li><a href="#">Partenariats</a></li>
                        </ul>
                    </div>
                    
                    <div class="footer-column">
                        <h4>Support</h4>
                        <ul>
                            <li><a href="#">FAQ</a></li>
                            <li><a href="#">Conditions générales</a></li>
                            <li><a href="#">Politique de confidentialité</a></li>
                            <li><a href="#">Assistance</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2023 Royal Transport. Voyagez en toute sécurité</p>
            </div>
        </div>
    </footer>

    <!-- Bouton WhatsApp flottant -->
    <div class="whatsapp-float">
        <a href="https://wa.me/22677030941" target="_blank" class="whatsapp-btn">
            <i class="fab fa-whatsapp"></i>
            <span>Contact WhatsApp</span>
        </a>
    </div>

    <!-- Modal pour la réservation -->
    <div id="reservation-modal" class="modal form-modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <div class="modal-header">
                <h2 class="modal-title">Réservation de Billet</h2>
                <p class="modal-subtitle">Réservez votre billet maintenant et payez plus tard</p>
            </div>
            
            <div class="reservation-container">
                <div class="form-container">
                    <form id="reservation-form">
                        <div class="form-group">
                            <label for="reservation-nom">Nom complet</label>
                            <input type="text" id="reservation-nom" placeholder="Votre nom complet" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="reservation-phone">Numéro de téléphone</label>
                            <input type="tel" id="reservation-phone" placeholder="Votre numéro de téléphone" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="reservation-email">Adresse email</label>
                            <input type="email" id="reservation-email" placeholder="Votre adresse email" required>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="reservation-depart">Ville de départ</label>
                                <select id="reservation-depart" required>
                                    <option value="" disabled selected>Sélectionnez une ville</option>
                                    <!-- Options seront ajoutées par JS -->
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="reservation-destination">Ville de destination</label>
                                <select id="reservation-destination" required>
                                    <option value="" disabled selected>Sélectionnez une ville</option>
                                    <!-- Options seront ajoutées par JS -->
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="reservation-date">Date de voyage</label>
                                <input type="date" id="reservation-date" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="reservation-passagers">Nombre de passagers</label>
                                <select id="reservation-passagers" required>
                                    <option value="1">1 Passager</option>
                                    <option value="2">2 Passagers</option>
                                    <option value="3">3 Passagers</option>
                                    <option value="4">4 Passagers</option>
                                    <option value="5">5 Passagers ou plus</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="reservation-message">Message additionnel (optionnel)</label>
                            <textarea id="reservation-message" placeholder="Informations supplémentaires..."></textarea>
                        </div>
                        
                        <div class="form-actions">
                            <button type="submit" class="btn btn-primary">Réserver maintenant</button>
                            <button type="button" class="btn btn-secondary close-current-modal">Annuler</button>
                        </div>
                    </form>
                </div>
                
                <div class="info-container">
                    <h3>Comment réserver ?</h3>
                    <ul class="steps-list">
                        <li>
                            <div class="step-number">A</div>
                            <div class="step-content">
                                <h4>Remplissez le formulaire</h4>
                                <p>Fournissez vos informations personnelles et les détails de votre voyage.</p>
                            </div>
                        </li>
                        <li>
                            <div class="step-number">B</div>
                            <div class="step-content">
                                <h4>Confirmation par WhatsApp</h4>
                                <p>Nous vous contacterons sur WhatsApp pour confirmer votre réservation.</p>
                            </div>
                        </li>
                        <li>
                            <div class="step-number">C</div>
                            <div class="step-content">
                                <h4>Paiement à l'embarquement</h4>
                                <p>Payez votre billet directement à l'embarquement ou via notre agent.</p>
                            </div>
                        </li>
                    </ul>
                    
                    <div class="whatsapp-info">
                        <i class="fab fa-whatsapp"></i>
                        <p>Notre service WhatsApp: <strong>+226 77 03 09 41</strong></p>
                        <p>Disponible 24h/24, 7j/7</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal pour l'achat de billet -->
    <div id="achat-modal" class="modal form-modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <div class="modal-header">
                <h2 class="modal-title">Achat de Billet</h2>
                <p class="modal-subtitle">Achetez votre billet en ligne et recevez-le immédiatement</p>
            </div>
            
            <div class="achat-container">
                <div class="form-container">
                    <form id="achat-form">
                        <div class="form-group">
                            <label for="achat-nom">Nom complet</label>
                            <input type="text" id="achat-nom" placeholder="Votre nom complet" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="achat-phone">Numéro de téléphone</label>
                            <input type="tel" id="achat-phone" placeholder="Votre numéro de téléphone" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="achat-email">Adresse email</label>
                            <input type="email" id="achat-email" placeholder="Votre adresse email" required>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="achat-depart">Ville de départ</label>
                                <select id="achat-depart" required>
                                    <option value="" disabled selected>Sélectionnez une ville</option>
                                    <!-- Options seront ajoutées par JS -->
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="achat-destination">Ville de destination</label>
                                <select id="achat-destination" required>
                                    <option value="" disabled selected>Sélectionnez une ville</option>
                                    <!-- Options seront ajoutées par JS -->
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="achat-date">Date de voyage</label>
                                <input type="date" id="achat-date" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="achat-passagers">Nombre de passagers</label>
                                <select id="achat-passagers" required>
                                    <option value="1">1 Passager</option>
                                    <option value="2">2 Passagers</option>
                                    <option value="3">3 Passagers</option>
                                    <option value="4">4 Passagers</option>
                                    <option value="5">5 Passagers ou plus</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="achat-type">Type de siège</label>
                            <select id="achat-type" required>
                                <option value="standard">Standard - 5 000 FCFA</option>
                                <option value="confort">Confort - 7 500 FCFA</option>
                                <option value="vip">VIP - 10 000 FCFA</option>
                            </select>
                        </div>
                        
                        <!-- Section de paiement (affichée après remplissage du formulaire) -->
                        <div id="paiement-section" class="hidden">
                            <h3>Méthode de Paiement</h3>
                            <div class="paiement-options">
                                <div class="paiement-option" data-paiement="orange">
                                    <div class="paiement-logo">
                                        <i class="fas fa-mobile-alt"></i>
                                    </div>
                                    <p>Orange Money</p>
                                </div>
                                <div class="paiement-option" data-paiement="moov">
                                    <div class="paiement-logo">
                                        <i class="fas fa-mobile-alt"></i>
                                    </div>
                                    <p>Moov Money</p>
                                </div>
                                <div class="paiement-option" data-paiement="wave">
                                    <div class="paiement-logo">
                                        <i class="fas fa-wallet"></i>
                                    </div>
                                    <p>Wave</p>
                                </div>
                                <div class="paiement-option" data-paiement="mtn">
                                    <div class="paiement-logo">
                                        <i class="fas fa-mobile-alt"></i>
                                    </div>
                                    <p>MTN Mobile Money</p>
                                </div>
                            </div>
                            
                            <div class="paiement-details hidden" id="paiement-details">
                                <div class="form-group">
                                    <label for="paiement-numero">Numéro de téléphone</label>
                                    <input type="tel" id="paiement-numero" placeholder="Votre numéro pour le paiement">
                                </div>
                                
                                <div class="form-group">
                                    <label for="paiement-code">Code de transaction (optionnel)</label>
                                    <input type="text" id="paiement-code" placeholder="Code de transaction">
                                </div>
                                
                                <div class="paiement-summary">
                                    <h4>Récapitulatif de paiement</h4>
                                    <div class="summary-details">
                                        <div class="summary-item">
                                            <span>Trajet:</span>
                                            <span id="summary-trajet">Ouagadougou - Bobo-Dioulasso</span>
                                        </div>
                                        <div class="summary-item">
                                            <span>Passagers:</span>
                                            <span id="summary-passagers">1</span>
                                        </div>
                                        <div class="summary-item">
                                            <span>Type de siège:</span>
                                            <span id="summary-type">Standard</span>
                                        </div>
                                        <div class="summary-item total">
                                            <span>Total à payer:</span>
                                            <span id="summary-total">5 000 FCFA</span>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="form-actions">
                                    <button type="button" id="finaliser-paiement" class="btn btn-primary">Finaliser le paiement</button>
                                    <button type="button" class="btn btn-secondary back-to-form">Retour au formulaire</button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-actions">
                            <button type="submit" id="achat-submit" class="btn btn-primary">Passer à l'achat</button>
                            <button type="button" class="btn btn-secondary close-current-modal">Annuler</button>
                        </div>
                    </form>
                </div>
                
                <div class="info-container">
                    <h3>Bénéfices de l'achat en ligne</h3>
                    <ul class="benefits-list">
                        <li>
                            <i class="fas fa-check-circle"></i>
                            <div class="benefit-content">
                                <h4>Ticket immédiat</h4>
                                <p>Recevez votre billet électronique directement sur WhatsApp après paiement.</p>
                            </div>
                        </li>
                        <li>
                            <i class="fas fa-check-circle"></i>
                            <div class="benefit-content">
                                <h4>Paiement sécurisé</h4>
                                <p>Transactions sécurisées via Orange Money, Moov Money, Wave et MTN.</p>
                            </div>
                        </li>
                        <li>
                            <i class="fas fa-check-circle"></i>
                            <div class="benefit-content">
                                <h4>Assistance 24/7</h4>
                                <p>Notre équipe est disponible sur WhatsApp pour toute assistance.</p>
                            </div>
                        </li>
                        <li>
                            <i class="fas fa-check-circle"></i>
                            <div class="benefit-content">
                                <h4>Modification facile</h4>
                                <p>Modifiez ou annulez votre billet facilement via WhatsApp.</p>
                            </div>
                        </li>
                    </ul>
                    
                    <div class="ticket-preview">
                        <h4>Votre ticket ressemblera à ceci:</h4>
                        <div class="ticket-sample">
                            <div class="ticket-header">
                                <h5>Royal Transport</h5>
                                <p>E-TICKET</p>
                            </div>
                            <div class="ticket-body">
                                <div class="ticket-info">
                                    <p><strong>Trajet:</strong> Ouagadougou → Bobo-Dioulasso</p>
                                    <p><strong>Date:</strong> 15 Juin 2023</p>
                                    <p><strong>Heure:</strong> 08:00</p>
                                    <p><strong>Passager:</strong> Jean Dupont</p>
                                    <p><strong>Siège:</strong> 12A</p>
                                    <p><strong>Prix:</strong> 5 000 FCFA</p>
                                </div>
                                <div class="ticket-qr">
                                    <div class="qr-placeholder">
                                        <i class="fas fa-qrcode"></i>
                                    </div>
                                    <p>Code: RT-2023-Mois-jr-N</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal pour afficher le ticket -->
    <div id="ticket-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h2>Votre billet Royal Transport</h2>
            <div id="ticket-content">
                <!-- Le contenu du ticket sera généré ici -->
            </div>
            <div class="modal-actions">
                <button id="whatsapp-ticket" class="btn btn-primary">
                    <i class="fab fa-whatsapp"></i> Envoyer sur WhatsApp
                </button>
                <button id="download-ticket" class="btn btn-secondary">
                    <i class="fas fa-download"></i> Télécharger
                </button>
                <button class="btn btn-secondary close-current-modal">Fermer</button>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script>
        // Données des trajets
        const trajets = [
            {
                id: 1,
                depart: "Ouagadougou",
                destination: "Bobo-Dioulasso",
                distance: "350 km",
                duree: "5 heures",
                prix: 5000,
                type: "interieur",
                departures: ["06:00", "08:00", "12:00", "16:00", "20:00"]
            },
            {
                id: 2,
                depart: "Ouagadougou",
                destination: "Koudougou",
                distance: "100 km",
                duree: "1h30",
                prix: 1700,
                type: "interieur",
                departures: ["07:00", "10:00", "13:00", "16:00"]
            },
            {
                id: 3,
                depart: "Bobo-Dioulasso",
                destination: "Banfora",
                distance: "85 km",
                duree: "1h15",
                prix: 1500,
                type: "interieur",
                departures: ["08:00", "11:00", "14:00", "17:00"]
            },
            {
                id: 4,
                depart: "Ouagadougou",
                destination: "Accra (Ghana)",
                distance: "900 km",
                duree: "12 heures",
                prix: 15000,
                type: "international",
                departures: ["06:00", "18:00"]
            },
            {
                id: 5,
                depart: "Ouagadougou",
                destination: "Abidjan (Côte d'Ivoire)",
                distance: "1100 km",
                duree: "15 heures",
                prix: 18000,
                type: "international",
                departures: ["07:00", "19:00"]
            },
            {
                id: 6,
                depart: "Ouagadougou",
                destination: "Lomé (Togo)",
                distance: "800 km",
                duree: "11 heures",
                prix: 14000,
                type: "international",
                departures: ["08:00"]
            },
            {
                id: 7,
                depart: "Koudougou",
                destination: "Bobo-Dioulasso",
                distance: "250 km",
                duree: "3h30",
                prix: 3500,
                type: "interieur",
                departures: ["09:00", "14:00"]
            },
            {
                id: 8,
                depart: "Ouagadougou",
                destination: "Fada N'Gourma",
                distance: "220 km",
                duree: "3 heures",
                prix: 3000,
                type: "interieur",
                departures: ["07:00", "13:00", "17:00"]
            }
        ];

        // Données des villes disponibles
        const villes = [
            "Ouagadougou", "Bobo-Dioulasso", "Koudougou", "Banfora", 
            "Ouahigouya", "Fada N'Gourma", "Dédougou", "Tenkodogo", 
            "Accra (Ghana)", "Abidjan (Côte d'Ivoire)", "Lomé (Togo)"
        ];

        // Variables globales
        let selectedTrajet = null;
        let selectedPaiement = null;
        let currentTicket = null;
        let currentModal = null;

        // Initialisation au chargement de la page
        document.addEventListener('DOMContentLoaded', function() {
            // Initialiser les trajets
            initTrajets();
            
            // Initialiser les formulaires
            initForms();
            
            // Initialiser les filtres
            initFilters();
            
            // Initialiser le menu mobile
            initMobileMenu();
            
            // Initialiser les options de paiement
            initPaiementOptions();
            
            // Initialiser la date minimale pour les formulaires
            initDateInputs();
            
            // Initialiser les modales
            initModals();
            
            // Initialiser la gestion des modales
            initModalManagement();
        });

        // Fonction d'initialisation des trajets
        function initTrajets() {
            const trajetsContainer = document.querySelector('.trajets-container');
            
            // Vider le conteneur
            trajetsContainer.innerHTML = '';
            
            // Créer les cartes de trajet
            trajets.forEach(trajet => {
                const trajetCard = document.createElement('div');
                trajetCard.className = `trajet-card ${trajet.type}`;
                
                trajetCard.innerHTML = `
                    <div class="trajet-header">
                        <div class="trajet-route">${trajet.depart} → ${trajet.destination}</div>
                        <div class="trajet-type">${trajet.type === 'interieur' ? 'Intérieur' : 'International'}</div>
                    </div>
                    <div class="trajet-body">
                        <div class="trajet-info">
                            <div class="trajet-detail">
                                <i class="fas fa-road"></i>
                                <p>Distance</p>
                                <span>${trajet.distance}</span>
                            </div>
                            <div class="trajet-detail">
                                <i class="fas fa-clock"></i>
                                <p>Durée</p>
                                <span>${trajet.duree}</span>
                            </div>
                            <div class="trajet-detail">
                                <i class="fas fa-bus"></i>
                                <p>Départs</p>
                                <span>${trajet.departures.length} par jour</span>
                            </div>
                        </div>
                        <div class="trajet-price">
                            <div class="price">${trajet.prix.toLocaleString()} FCFA</div>
                            <div class="trajet-actions">
                                <button class="btn btn-primary open-reservation-modal" data-trajet-id="${trajet.id}">Réserver</button>
                                <button class="btn btn-secondary open-achat-modal" data-trajet-id="${trajet.id}">Acheter</button>
                            </div>
                        </div>
                    </div>
                `;
                
                trajetsContainer.appendChild(trajetCard);
            });
            
            // Ajouter les écouteurs d'événements aux boutons des cartes
            document.querySelectorAll('.open-reservation-modal').forEach(btn => {
                btn.addEventListener('click', function() {
                    const trajetId = this.getAttribute('data-trajet-id');
                    openModalWithTrajet('reservation-modal', trajetId);
                });
            });
            
            document.querySelectorAll('.open-achat-modal').forEach(btn => {
                btn.addEventListener('click', function() {
                    const trajetId = this.getAttribute('data-trajet-id');
                    openModalWithTrajet('achat-modal', trajetId);
                });
            });
        }

        // Fonction d'initialisation des formulaires
        function initForms() {
            // Remplir les sélecteurs de villes
            const departSelects = document.querySelectorAll('select[id$="depart"]');
            const destinationSelects = document.querySelectorAll('select[id$="destination"]');
            
            departSelects.forEach(select => {
                villes.forEach(ville => {
                    const option = document.createElement('option');
                    option.value = ville;
                    option.textContent = ville;
                    select.appendChild(option);
                });
            });
            
            destinationSelects.forEach(select => {
                villes.forEach(ville => {
                    const option = document.createElement('option');
                    option.value = ville;
                    option.textContent = ville;
                    select.appendChild(option);
                });
            });
            
            // Formulaire de réservation
            const reservationForm = document.getElementById('reservation-form');
            reservationForm.addEventListener('submit', function(e) {
                e.preventDefault();
                handleReservation();
            });
            
            // Formulaire d'achat
            const achatForm = document.getElementById('achat-form');
            achatForm.addEventListener('submit', function(e) {
                e.preventDefault();
                handleAchatStep1();
            });
            
            // Formulaire de contact
            const contactForm = document.getElementById('contact-form');
            contactForm.addEventListener('submit', function(e) {
                e.preventDefault();
                handleContact();
            });
        }

        // Fonction d'initialisation des filtres
        function initFilters() {
            const filterBtns = document.querySelectorAll('.filter-btn');
            
            filterBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    // Retirer la classe active de tous les boutons
                    filterBtns.forEach(b => b.classList.remove('active'));
                    
                    // Ajouter la classe active au bouton cliqué
                    this.classList.add('active');
                    
                    // Filtrer les trajets
                    const filter = this.getAttribute('data-filter');
                    filterTrajets(filter);
                });
            });
        }

        // Fonction de filtrage des trajets
        function filterTrajets(filter) {
            const trajetCards = document.querySelectorAll('.trajet-card');
            
            trajetCards.forEach(card => {
                if (filter === 'tous') {
                    card.style.display = 'block';
                } else {
                    if (card.classList.contains(filter)) {
                        card.style.display = 'block';
                    } else {
                        card.style.display = 'none';
                    }
                }
            });
        }

        // Fonction d'initialisation du menu mobile
        function initMobileMenu() {
            const menuToggle = document.querySelector('.menu-toggle');
            const navUl = document.querySelector('nav ul');
            
            menuToggle.addEventListener('click', function() {
                navUl.classList.toggle('show');
            });
            
            // Fermer le menu au clic sur un lien
            document.querySelectorAll('nav a').forEach(link => {
                link.addEventListener('click', function() {
                    navUl.classList.remove('show');
                });
            });
        }

        // Fonction d'initialisation des options de paiement
        function initPaiementOptions() {
            const paiementOptions = document.querySelectorAll('.paiement-option');
            
            paiementOptions.forEach(option => {
                option.addEventListener('click', function() {
                    // Retirer la classe selected de toutes les options
                    paiementOptions.forEach(opt => opt.classList.remove('selected'));
                    
                    // Ajouter la classe selected à l'option cliquée
                    this.classList.add('selected');
                    
                    // Enregistrer le mode de paiement sélectionné
                    selectedPaiement = this.getAttribute('data-paiement');
                    
                    // Afficher les détails de paiement
                    const paiementDetails = document.getElementById('paiement-details');
                    paiementDetails.classList.remove('hidden');
                });
            });
            
            // Bouton de finalisation du paiement
            const finaliserPaiementBtn = document.getElementById('finaliser-paiement');
            if (finaliserPaiementBtn) {
                finaliserPaiementBtn.addEventListener('click', handleFinaliserPaiement);
            }
            
            // Bouton retour au formulaire
            const backToFormBtn = document.querySelector('.back-to-form');
            if (backToFormBtn) {
                backToFormBtn.addEventListener('click', function() {
                    document.getElementById('paiement-section').classList.add('hidden');
                    document.getElementById('paiement-details').classList.add('hidden');
                    document.getElementById('achat-submit').classList.remove('hidden');
                });
            }
        }

        // Fonction d'initialisation des champs de date
        function initDateInputs() {
            const today = new Date();
            const formattedDate = today.toISOString().split('T')[0];
            
            // Définir la date d'aujourd'hui comme date minimale
            const dateInputs = document.querySelectorAll('input[type="date"]');
            dateInputs.forEach(input => {
                input.setAttribute('min', formattedDate);
                
                // Définir une date par défaut (demain)
                const tomorrow = new Date(today);
                tomorrow.setDate(tomorrow.getDate() + 1);
                const formattedTomorrow = tomorrow.toISOString().split('T')[0];
                input.value = formattedTomorrow;
            });
        }

        // Fonction d'initialisation des modales
        function initModals() {
            // Gestion de la fermeture des modales
            document.querySelectorAll('.close-modal, .close-current-modal').forEach(btn => {
                btn.addEventListener('click', function() {
                    closeCurrentModal();
                });
            });
            
            // Fermer la modale en cliquant en dehors
            document.querySelectorAll('.modal').forEach(modal => {
                modal.addEventListener('click', function(e) {
                    if (e.target === this) {
                        closeCurrentModal();
                    }
                });
            });
            
            // Bouton d'envoi du ticket par WhatsApp
            const whatsappTicketBtn = document.getElementById('whatsapp-ticket');
            if (whatsappTicketBtn) {
                whatsappTicketBtn.addEventListener('click', sendTicketViaWhatsApp);
            }
            
            // Bouton de téléchargement du ticket
            const downloadTicketBtn = document.getElementById('download-ticket');
            if (downloadTicketBtn) {
                downloadTicketBtn.addEventListener('click', downloadTicket);
            }
        }

        // Fonction d'initialisation de la gestion des modales
        function initModalManagement() {
            // Gestion des boutons pour ouvrir les modales
            const openModalBtns = document.querySelectorAll('.open-modal-btn');
            
            openModalBtns.forEach(btn => {
                btn.addEventListener('click', function(e) {
                    e.preventDefault();
                    const modalId = this.getAttribute('data-modal');
                    openModal(modalId);
                });
            });
            
            // Gérer la touche Échap pour fermer les modales
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    closeCurrentModal();
                }
            });
        }

        // Fonction pour ouvrir une modale
        function openModal(modalId) {
            // Fermer toute modale ouverte
            closeCurrentModal();
            
            // Ouvrir la nouvelle modale
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.style.display = 'block';
                currentModal = modalId;
                document.body.style.overflow = 'hidden'; // Empêcher le défilement de la page
                
                // Réinitialiser le formulaire dans la modale
                if (modalId === 'reservation-modal') {
                    resetReservationForm();
                } else if (modalId === 'achat-modal') {
                    resetAchatForm();
                }
            }
        }

        // Fonction pour ouvrir une modale avec un trajet pré-rempli
        function openModalWithTrajet(modalId, trajetId) {
            openModal(modalId);
            
            // Pré-remplir le formulaire avec le trajet sélectionné
            if (trajetId) {
                const trajet = trajets.find(t => t.id === parseInt(trajetId));
                if (trajet) {
                    if (modalId === 'reservation-modal') {
                        document.getElementById('reservation-depart').value = trajet.depart;
                        document.getElementById('reservation-destination').value = trajet.destination;
                    } else if (modalId === 'achat-modal') {
                        document.getElementById('achat-depart').value = trajet.depart;
                        document.getElementById('achat-destination').value = trajet.destination;
                    }
                    selectedTrajet = trajet;
                }
            }
        }

        // Fonction pour fermer la modale actuelle
        function closeCurrentModal() {
            if (currentModal) {
                const modal = document.getElementById(currentModal);
                if (modal) {
                    modal.style.display = 'none';
                }
            }
            
            // Fermer aussi la modale de ticket si elle est ouverte
            const ticketModal = document.getElementById('ticket-modal');
            if (ticketModal) {
                ticketModal.style.display = 'none';
            }
            
            currentModal = null;
            document.body.style.overflow = 'auto'; // Réactiver le défilement de la page
        }

        // Fonction pour réinitialiser le formulaire de réservation
        function resetReservationForm() {
            const form = document.getElementById('reservation-form');
            if (form) {
                form.reset();
                
                // Réinitialiser la date
                const tomorrow = new Date();
                tomorrow.setDate(tomorrow.getDate() + 1);
                const formattedTomorrow = tomorrow.toISOString().split('T')[0];
                document.getElementById('reservation-date').value = formattedTomorrow;
            }
        }

        // Fonction de gestion de la réservation
        function handleReservation() {
            // Récupérer les données du formulaire
            const nom = document.getElementById('reservation-nom').value;
            const phone = document.getElementById('reservation-phone').value;
            const email = document.getElementById('reservation-email').value;
            const depart = document.getElementById('reservation-depart').value;
            const destination = document.getElementById('reservation-destination').value;
            const date = document.getElementById('reservation-date').value;
            const passagers = document.getElementById('reservation-passagers').value;
            const message = document.getElementById('reservation-message').value;
            
            // Valider les données
            if (!nom || !phone || !email || !depart || !destination || !date || !passagers) {
                alert('Veuillez remplir tous les champs obligatoires');
                return;
            }
            
            // Trouver le trajet correspondant
            const trajet = trajets.find(t => t.depart === depart && t.destination === destination);
            let prix = 0;
            
            if (trajet) {
                prix = trajet.prix * parseInt(passagers);
            } else {
                // Si le trajet n'est pas dans la liste, utiliser un prix par défaut
                prix = 5000 * parseInt(passagers);
            }
            
            // Créer le message pour WhatsApp
            const formattedDate = new Date(date).toLocaleDateString('fr-FR', {
                weekday: 'long',
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
            
            const whatsappMessage = `Bonjour, je souhaite réserver un billet avec Royal Transport.%0A%0A` +
                                  `*Informations de réservation:*%0A` +
                                  `Nom: ${nom}%0A` +
                                  `Téléphone: ${phone}%0A` +
                                  `Email: ${email}%0A` +
                                  `Trajet: ${depart} → ${destination}%0A` +
                                  `Date: ${formattedDate}%0A` +
                                  `Nombre de passagers: ${passagers}%0A` +
                                  `Prix estimé: ${prix.toLocaleString()} FCFA%0A` +
                                  (message ? `Message: ${message}%0A` : '') +
                                  `%0AJe vous remercie!`;
            
            // Ouvrir WhatsApp avec le message pré-rempli
            const whatsappUrl = `https://wa.me/22677030941?text=${whatsappMessage}`;
            window.open(whatsappUrl, '_blank');
            
            // Réinitialiser le formulaire
            resetReservationForm();
            
            // Afficher un message de confirmation
            alert('Votre demande de réservation a été envoyée! Vous allez être redirigé vers WhatsApp pour confirmation.');
            
            // Fermer la modale
            closeCurrentModal();
        }

        // Fonction de gestion de l'achat (étape 1)
        function handleAchatStep1() {
            // Récupérer les données du formulaire
            const nom = document.getElementById('achat-nom').value;
            const phone = document.getElementById('achat-phone').value;
            const email = document.getElementById('achat-email').value;
            const depart = document.getElementById('achat-depart').value;
            const destination = document.getElementById('achat-destination').value;
            const date = document.getElementById('achat-date').value;
            const passagers = document.getElementById('achat-passagers').value;
            const type = document.getElementById('achat-type').value;
            
            // Valider les données
            if (!nom || !phone || !email || !depart || !destination || !date || !passagers || !type) {
                alert('Veuillez remplir tous les champs obligatoires');
                return;
            }
            
            // Trouver le trajet correspondant
            const trajet = trajets.find(t => t.depart === depart && t.destination === destination);
            
            if (!trajet) {
                alert('Désolé, ce trajet n\'est pas disponible. Veuillez choisir un autre trajet.');
                return;
            }
            
            // Calculer le prix selon le type de siège
            let prixParPassager = trajet.prix;
            
            if (type === 'confort') {
                prixParPassager = 7500;
            } else if (type === 'vip') {
                prixParPassager = 10000;
            }
            
            const total = prixParPassager * parseInt(passagers);
            
            // Mettre à jour le récapitulatif
            document.getElementById('summary-trajet').textContent = `${depart} → ${destination}`;
            document.getElementById('summary-passagers').textContent = passagers;
            
            let typeText = 'Standard';
            if (type === 'confort') typeText = 'Confort';
            if (type === 'vip') typeText = 'VIP';
            
            document.getElementById('summary-type').textContent = typeText;
            document.getElementById('summary-total').textContent = `${total.toLocaleString()} FCFA`;
            
            // Stocker les données de l'achat pour l'étape suivante
            currentTicket = {
                nom,
                phone,
                email,
                depart,
                destination,
                date,
                passagers: parseInt(passagers),
                type,
                prixParPassager,
                total,
                trajetId: trajet.id,
                reference: `RT-${Date.now().toString().substr(-6)}`
            };
            
            // Afficher la section de paiement
            const paiementSection = document.getElementById('paiement-section');
            paiementSection.classList.remove('hidden');
            
            // Masquer le bouton de soumission initial
            const achatSubmitBtn = document.getElementById('achat-submit');
            achatSubmitBtn.classList.add('hidden');
            
            // Défiler vers le haut de la modale pour voir la section de paiement
            const modalContent = document.querySelector('#achat-modal .modal-content');
            modalContent.scrollTop = 0;
        }

        // Fonction de finalisation du paiement
        function handleFinaliserPaiement() {
            // Vérifier qu'un mode de paiement est sélectionné
            if (!selectedPaiement) {
                alert('Veuillez sélectionner un mode de paiement');
                return;
            }
            
            // Vérifier le numéro de téléphone pour le paiement
            const paiementNumero = document.getElementById('paiement-numero').value;
            if (!paiementNumero || paiementNumero.length < 8) {
                alert('Veuillez entrer un numéro de téléphone valide pour le paiement');
                return;
            }
            
            // Simuler le processus de paiement
            simulatePaiement()
                .then(() => {
                    // Générer le ticket
                    generateTicket();
                    
                    // Fermer la modale d'achat
                    closeCurrentModal();
                    
                    // Ouvrir la modale de ticket
                    openModal('ticket-modal');
                })
                .catch(error => {
                    alert(`Erreur lors du paiement: ${error}`);
                });
        }

        // Fonction de simulation de paiement
        function simulatePaiement() {
            return new Promise((resolve, reject) => {
                // Simuler un délai de traitement
                setTimeout(() => {
                    // Simuler un succès de paiement dans 90% des cas
                    if (Math.random() < 0.9) {
                        resolve();
                    } else {
                        reject('Échec du paiement. Veuillez réessayer.');
                    }
                }, 1500);
            });
        }

        // Fonction de génération du ticket
        function generateTicket() {
            if (!currentTicket) return;
            
            const ticketContent = document.getElementById('ticket-content');
            const formattedDate = new Date(currentTicket.date).toLocaleDateString('fr-FR', {
                weekday: 'long',
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
            
            // Générer un numéro de siège aléatoire
            const seatNumber = Math.floor(Math.random() * 40) + 1;
            const seatLetter = String.fromCharCode(65 + Math.floor(Math.random() * 4)); // A à D
            const seat = `${seatNumber}${seatLetter}`;
            
            // Générer un code QR fictif (en réalité, on utiliserait une bibliothèque QR code)
            const qrCode = `https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=${currentTicket.reference}`;
            
            ticketContent.innerHTML = `
                <div class="ticket-sample">
                    <div class="ticket-header">
                        <h5>Royal Transport</h5>
                        <p>E-TICKET</p>
                    </div>
                    <div class="ticket-body">
                        <div class="ticket-info">
                            <p><strong>Référence:</strong> ${currentTicket.reference}</p>
                            <p><strong>Passager:</strong> ${currentTicket.nom}</p>
                            <p><strong>Téléphone:</strong> ${currentTicket.phone}</p>
                            <p><strong>Trajet:</strong> ${currentTicket.depart} → ${currentTicket.destination}</p>
                            <p><strong>Date:</strong> ${formattedDate}</p>
                            <p><strong>Heure de départ:</strong> 08:00</p>
                            <p><strong>Siège:</strong> ${seat}</p>
                            <p><strong>Type:</strong> ${currentTicket.type.toUpperCase()}</p>
                            <p><strong>Passagers:</strong> ${currentTicket.passagers}</p>
                            <p><strong>Prix total:</strong> ${currentTicket.total.toLocaleString()} FCFA</p>
                            <p><strong>Mode de paiement:</strong> ${selectedPaiement.toUpperCase()}</p>
                            <p><strong>Statut:</strong> <span style="color: green;">Payé</span></p>
                        </div>
                        <div class="ticket-qr">
                            <div class="qr-placeholder">
                                <img src="${qrCode}" alt="QR Code" style="width: 100px; height: 100px;">
                            </div>
                            <p>Code: ${currentTicket.reference}</p>
                        </div>
                    </div>
                </div>
            `;
        }

        // Fonction pour réinitialiser le formulaire d'achat
        function resetAchatForm() {
            // Réinitialiser le formulaire
            const form = document.getElementById('achat-form');
            if (form) {
                form.reset();
                
                // Cacher la section de paiement
                document.getElementById('paiement-section').classList.add('hidden');
                
                // Afficher à nouveau le bouton de soumission initial
                document.getElementById('achat-submit').classList.remove('hidden');
                
                // Réinitialiser les sélections de paiement
                document.querySelectorAll('.paiement-option').forEach(opt => {
                    opt.classList.remove('selected');
                });
                
                document.getElementById('paiement-details').classList.add('hidden');
                
                // Réinitialiser les champs de paiement
                document.getElementById('paiement-numero').value = '';
                document.getElementById('paiement-code').value = '';
                
                // Réinitialiser les variables
                selectedPaiement = null;
                
                // Réinitialiser la date
                const tomorrow = new Date();
                tomorrow.setDate(tomorrow.getDate() + 1);
                const formattedTomorrow = tomorrow.toISOString().split('T')[0];
                document.getElementById('achat-date').value = formattedTomorrow;
            }
        }

        // Fonction d'envoi du ticket par WhatsApp
        function sendTicketViaWhatsApp() {
            if (!currentTicket) return;
            
            const formattedDate = new Date(currentTicket.date).toLocaleDateString('fr-FR', {
                weekday: 'long',
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
            
            const message = `Bonjour, voici votre billet Royal Transport!%0A%0A` +
                           `*Détails du billet:*%0A` +
                           `Référence: ${currentTicket.reference}%0A` +
                           `Passager: ${currentTicket.nom}%0A` +
                           `Trajet: ${currentTicket.depart} → ${currentTicket.destination}%0A` +
                           `Date: ${formattedDate}%0A` +
                           `Heure: 08:00%0A` +
                           `Passagers: ${currentTicket.passagers}%0A` +
                           `Type: ${currentTicket.type.toUpperCase()}%0A` +
                           `Prix total: ${currentTicket.total.toLocaleString()} FCFA%0A` +
                           `%0APrésentez ce message à l'embarquement.%0A` +
                           `Bon voyage avec Royal Transport! 🚌`;
            
            const whatsappUrl = `https://wa.me/${currentTicket.phone}?text=${message}`;
            window.open(whatsappUrl, '_blank');
        }

        // Fonction de téléchargement du ticket
        function downloadTicket() {
            if (!currentTicket) return;
            
            // Créer un contenu de ticket formaté pour le téléchargement
            const formattedDate = new Date(currentTicket.date).toLocaleDateString('fr-FR');
            
            const ticketContent = `
ROYAL TRANSPORT - E-TICKET
============================

Référence: ${currentTicket.reference}
Passager: ${currentTicket.nom}
Téléphone: ${currentTicket.phone}
Email: ${currentTicket.email}

Trajet: ${currentTicket.depart} → ${currentTicket.destination}
Date: ${formattedDate}
Heure de départ: 08:00
Passagers: ${currentTicket.passagers}
Type: ${currentTicket.type.toUpperCase()}

Prix total: ${currentTicket.total.toLocaleString()} FCFA
Mode de paiement: ${selectedPaiement.toUpperCase()}
Statut: Payé

============================
Présentez ce billet à l'embarquement.
Bon voyage avec Royal Transport!
`;
            
            // Créer un blob et un lien de téléchargement
            const blob = new Blob([ticketContent], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `billet-royal-transport-${currentTicket.reference}.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        // Fonction de gestion du formulaire de contact
        function handleContact() {
            const contactForm = document.getElementById('contact-form');
            const inputs = contactForm.querySelectorAll('input, textarea');
            
            // Vérifier que tous les champs sont remplis
            let allFilled = true;
            inputs.forEach(input => {
                if (!input.value.trim()) {
                    allFilled = false;
                }
            });
            
            if (!allFilled) {
                alert('Veuillez remplir tous les champs du formulaire de contact');
                return;
            }
            
            // Simuler l'envoi du message
            setTimeout(() => {
                alert('Merci pour votre message! Nous vous répondrons dans les plus brefs délais.');
                contactForm.reset();
            }, 1000);
        }

        // Gestion du défilement fluide pour les liens d'ancrage
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                const href = this.getAttribute('href');
                
                // Ne pas empêcher le comportement par défaut pour les liens vers des sections visibles
                if (href === '#trajets' || href === '#contact' || href === '#accueil') {
                    e.preventDefault();
                    // Ces sections sont toujours visibles
                    const targetElement = document.querySelector(href);
                    if (targetElement) {
                        targetElement.scrollIntoView({
                            behavior: 'smooth'
                        });
                    }
                }
            });
        });
    </script>
</body>
</html>
